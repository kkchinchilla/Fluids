<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      @import url('https://fonts.googleapis.com/css?family=Muli&display=swap');

* {
  box-sizing: border-box;
}

body {
  font-family: 'Muli', sans-serif; /* */
  display: flex; /* */
  align-items: center; /* */
  justify-content: center; /* */
  height: 100vh; /* */
  overflow: hidden; /* This will be overridden for mobile */ /* */
  margin: 0; /* */
}

.container {
  display: flex; /* */
  width: 90vw; /* */
}

.panel {
  background-size: cover; /* */
  background-position: center; /* */
  background-repeat: no-repeat; /* */
  height: 50vh; /* Default height for desktop */ /* */
  border-radius: 80px; /* */
  color: #fff; /* */
  cursor: pointer; /* */
  flex: 0.8; /* Default flex for desktop (width allocation) */ /* */
  margin: 8px; /* */
  position: relative; /* */
  -webkit-transition: all 500ms ease-in; /* Handles transition for flex and other properties */ /* */
  transition: all 500ms ease-in; /* Standard transition */ /* */
}

.panel h3 {
  font-size: 24px; /* */
  position: absolute; /* */
  bottom: 20px; /* */
  left: 20px; /* */
  margin: 0; /* */
  opacity: 0; /* */
}

.panel.active {
  flex: 5; /* Active panel flex for desktop (larger width) */ /* */
}

.panel.active h3 {
  opacity: 1; /* */
  transition: opacity 0.3s ease-in 0.4s; /* */
}

@media (max-width: 480px) {
  body {
    height: auto; /* Allow body to grow if content overflows viewport */ /* */
    min-height: 100vh; /* Ensure body takes at least full viewport height */ /* */
    overflow-y: auto; /* Allow vertical scrolling on the body */ /* */
    display: block; /* Change from flex to block for normal page flow */ /* */
    /* Remove alignment properties that centered the old flex container */
    padding-top: 20px; /* Add some top padding for scrollable content */ /* */
    padding-bottom: 20px; /* Add some bottom padding */ /* */
  }

  .container {
    width: 100vw; /* Container takes full viewport width */ /* */
    flex-direction: column; /* Stack panels vertically */ /* */
    height: auto; /* Container height adjusts to content */ /* */
    align-items: center; /* Center panels horizontally within the container */ /* */
  }

  .panel {
    width: 90vw; /* Panels take up most of the screen width */ /* */
    height: 150px; /* Set a specific height for non-active panels */ /* */
    flex: none;    /* Reset desktop flex behavior (flex: 0 0 auto) */ /* */
    margin: 10px 0; /* Adjust margin for vertical stacking */ /* */
    border-radius: 30px; /* Reduce border-radius for mobile proportions */ /* */
  }

  .panel.active {
    height: 350px; /* Active panel becomes taller */ /* */
    /* flex: none; is inherited from .panel, so no need to repeat unless overriding further */
  }

  .panel h3 {
    font-size: 20px; /* Optionally adjust font size for smaller screens */ /* */
  }

  /*
    IMPORTANT: Notice that the following lines, which were present in an earlier version
    of the CSS and caused panels 4 and 5 to be hidden, ARE NOT PRESENT HERE:

    .panel:nth-of-type(4),
    .panel:nth-of-type(5) {
      display: none;
    }

    By ensuring these lines are removed from your @media (max-width: 480px) block,
    all 7 panels will be displayed.
  */
}
    </style>
    <title>Expanding Cards</title>
  </head>
  <body>
    <div class="container">
      <div class="panel active" style="background-image: url('https://images.unsplash.com/photo-1558979158-65a1eaa08691?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80')">
        <h3>Explore The World</h3>
      </div>
      <div class="panel" style="background-image: url('https://images.unsplash.com/photo-1572276596237-5db2c3e16c5d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80')">
        <h3>Wild Forest</h3>
      </div>
      <div class="panel" style="background-image: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1353&q=80')">
        <h3>Sunny Beach</h3>
      </div>
      <div class="panel" style="background-image: url('https://images.unsplash.com/photo-1551009175-8a68da93d5f9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1351&q=80')">
        <h3>City on Winter</h3>
      </div>
      <div class="panel" style="background-image: url('https://images.unsplash.com/photo-1549880338-65ddcdfd017b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80')">
        <h3>Mountains - Clouds</h3>
      </div>
      <div class="panel" style="background-image: url('https://images.unsplash.com/photo-1551009175-8a68da93d5f9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1351&q=80')">
        <h3>City on Winter</h3>
      </div>
      <div class="panel" style="background-image: url('https://images.unsplash.com/photo-1549880338-65ddcdfd017b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80')">
        <h3>Mountains - Clouds</h3>
      </div>

    </div>

    <script>
      const panels = document.querySelectorAll('.panel')

      panels.forEach(panel => {
          panel.addEventListener('mouseenter', () => {
              removeActiveClasses()
              panel.classList.add('active')
          })
      })

      function removeActiveClasses() {
          panels.forEach(panel => {
              panel.classList.remove('active')
          })
      }
    </script>
  </body>
</html>